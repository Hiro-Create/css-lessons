# Практикум: создание flexbox-макета

Внимательно прочитайте теорию на странице [CSS_Flexible_Box_Layout](https://developer.mozilla.org/ru/docs/Web/CSS/CSS_Flexible_Box_Layout/%D0%92%D1%8B%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2_%D0%B2_Flex_%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80%D0%B5)

В этом практикуме вы возьмете за основу макет, 
в котором элементы div располагаются друг над другом, и сформируете колонки с помощью метода
flexbox. Кроме того, вы реализуете несколько визуальных
эффектов, что будет очень легко благодаря методу flexbox-верстки, но потребовало
бы неимоверных усилий при использовании какого-либо другого метода CSS.
Чтобы начать работу, вы должны иметь в распоряжении файлы с учебным материалом. 
Файлы текущего практикума находятся в папке 17.
# Форматирование панели навигации
Представленный дизайн состоит из трех flex-контейнеров — один используется для
кнопок навигации, второй — для основного контента, а третий — для нижнего колонтитула. 
Каждый контейнер будет содержать разное количество flex-
элементов: четыре — для панели навигации, три — для области основного контента
и два — для нижнего колонтитула. Для начала создадим flex-контейнеры.
1. В редакторе HTML-кода откройте файл custom.css, расположенный в папке
17\flexbox-layout\css.
Это пустой CSS-файл, в который вы добавите код каскадной таблицы стилей
для реализации метода flexbox-верстки. Страница index.html содержит ссылки
на две таблицы стилей, связанные с ней: пустой файл custom.css и файл base.
css,
который включает базовые стили, придающие основным элементам страницы
некоторое форматирование.
Сначала вы создадите основной flex-контейнер.
2. Добавьте код группового селектора в файле custom.css следующим образом:
    ```
    .nav, .boxes, .footer {
        display: flex;
        flex-flow: row wrap;
    }
    ```
    Далее вам придется выполнить некоторые довольно сложные настройки. Вы
    разместите кнопки навигации равномерно по контейнеру таким образом, чтобы
    крайняя левая кнопка находилась у левого края контейнера, правая кнопка —
    возле правого края контейнера, а две другие кнопки были равномерно распределены между ними.
3. Добавьте еще один стиль сразу после созданного на предыдущем шаге:
    ```
    .nav {
        justify-content: space-between;
    }
    ```
    Свойство justify-content, примененное к flex-контейнеру, определяет, как flex-
    элементы размещаются внутри контейнера. В данном случае значение space-between
    распределяет все flex-элементы равномерно по контейнеру. Это действительно здорово и, как правило, 
    трудноосуществимо с помощью других методов
    каскадных таблиц стилей.
    Вы также можете придать этим кнопкам гибкую ширину, указав их размер в процентах. Сделаем это сейчас.
4. Отформатируйте ссылки, добавив в таблицу стилей следующий код:
    ```
    .nav a {
        width: 23%;
    }
    ```
    Стиль устанавливает ширину каждой ссылки равной 23 % от общей ширины
    flex-контейнера. При сжатии контейнера кнопки также будут сжаты. Оставшееся 
    пространство равномерно распределяется между каждой кнопкой благодаря
    стилю, который вы добавили на предыдущем шаге.
    Кнопки на панели навигации распределены равномерно, и их ширина настраивается автоматически. 
    Все это сделано без обтекаемых элементов или другого
    сложного CSS-кода.
# Добавление трех колонок
Пришло время заняться областью основного контента. В данный момент существует
три элемента div, каждый из которых содержит кнопку Дополнительно, размещенные
друг над другом. Добавив свойство flex можно разместить их в строке.
Помните, как на шаге 1 ранее вы превратили div, который содержит эти элементы
div, в flex-контейнер? Теперь вы превратите их в flex-элементы.
1. В нижней части файла custom.css добавьте следующее правило:
    ```
    .boxes div {
        flex: 1 1 250px;
    }
    ```
    С его помощью каждый элемент div будет занимать равную область flex-контейнера. 
    Элементы одинаковой ширины, но в настоящее время состыкованы
    друг с другом, что затрудняет чтение (а также тот факт, что текст на латыни).
    Чтобы упростить чтение текста в колонках, вы добавите фоновый цвет и немного воздуха.
2. Измените стиль, созданный на предыдущем шаге, добавив в него четыре свойства (добавленный текст выделен полужирным шрифтом):
    ```
    .boxes div {
        flex: 1 1 250px;
        margin: 10px;
        border-radius: 5px;
        padding: 10px 10px 0 10px;
        background-color: rgba(0,0,0,.1);
    }
    ```
    Обратите внимание, что каждая колонка имеет одинаковую высоту, даже если
    их содержимое — разной длины. Это еще один волшебный момент метода flexbox-
    верстки: по умолчанию высота всех колонок в строке одинакова. Это очень трудно сделать с помощью 
    обычного CSS-кода, а некоторые дизайнеры даже прибегают к помощи JavaScript, чтобы добиться такого эффекта.
    Тем не менее кнопки, так хорошо заметные на странице, находятся в хаотичных
    положениях, что отвлекает. Было бы здорово, если бы существовал способ поместить их в нижней части каждой колонки. Благодаря методу flexbox-верстки
    он есть!
    Поля flex-элементов работают немного по-другому. Например, сверху каждой
    кнопки можно добавить автоматически настраиваемое поле, чтобы сместить
    кнопки к основанию колонки. Тем не менее вы можете использовать эту технику
    для установки полей flex-элементов. На данный момент колонки сами по себе
    являются flex-элементами; кнопки и абзацы внутри них — обычные элементы.
    К счастью, модель flexbox позволяет назначить несколько ролей flex-элементам.
    Колонки могут быть flex-элементами по отношению к внешним контейнерам
    (строкам) и flex-контейнерами, содержащими flex-элементы (абзац и кнопка)
    внутри себя, одновременно.
3. Добавьте еще две строки кода в стиль .boxes div:
    ```
    .boxes div {
        flex: 1 1 250px;
        margin: 10px;
        border-radius: 5px;
        padding: 10px 10px 0 10px;
        background-color: rgba(0,0,0,.1);
        display: flex;
        flex-flow: column;
    }
    ```
    Этот код определяет элементы div как flex-контейнеры
    и задает направление flex-элементов внутри колонки, размещая текст и кнопки
    друг над другом. Flex-элементы могут использовать автоматически настраиваемые
    поля, поэтому вам нужно разместить кнопки в нижней части каждого
    элемента div.
4. Добавьте следующий стиль после правила .boxes div:
    ```
    .boxes .more {
        margin-top: auto;
    }
    ```
    Теперь к каждой кнопке применен класс more, который воздействует на кнопки
    внутри колонок. Свойству margin-top присвоено значение auto, которое дает
    инструкцию браузеру автоматически добавлять пустое пространство внутри
    flex-элемента над кнопкой. При этом все кнопки будут смещены к нижнему
    краю колонок.
# Форматирование колонтитула
Мы подобрались к нижней части страницы. Осталось выполнить форматирование
нижнего колонтитула. В нем находится информация об авторских правах и веб-
форма подписки на рассылку. Для этого контента достаточно двух колонок.

1. Добавьте два новых стиля в нижней части файла custom.css:
    ```
    .footer .copyright {
        flex: 2 1 500px;
        margin-right: 30px;
    }
    .footer .signup {
        flex: 1 1 250px;
    }
    ```
    Эти стили увеличивают область с информацией об авторских правах в два раза
    по сравнению с веб-формой подписки на рассылку. Небольшое поле справа отодвигает
    веб-форму подписки на рассылку от уведомления об авторских правах.
    Последнее, что осталось сделать, — это организовать элементы веб-формы. Было
    бы прекрасно, если бы кнопка отправки данных (OK) находилась рядом с текстовым
    полем и была выровнена с ним. Это можно сделать с помощью метода
    flexbox, но сначала необходимо превратить элемент form в flex-контейнер. Затем
    все элементы внутри — текстовая метка, поле ввода и кнопка отправки данных — будут функционировать
    как flex-элементы.
2. Обновите стиль в верхней части файла custom.css, добавив в него селектор
    ```
    .footer:
    .nav, .boxes, .footer, .footer form {
        display: flex;
        flex-flow: row wrap;
    }
    ```
    Этот селектор превратит веб-форму внутри нижнего колонтитула в flex-контейнер,
    а текстовую метку, поле ввода и кнопку отправки данных внутри веб-формы — в
    flex-элементы. Далее вы растянете метку на всю ширину веб-формы.
3. Добавьте еще один стиль в конец файла custom.css, чтобы метка заполнила колонку:
    ```
    .signup label {
        width: 100%;
    }
    ```
    На предыдущем шаге вы превратили веб-форму в flex-контейнер, для которого 
    допускается перенос элементов. Присвоение свойству width метки значения
    100% переносит поле ввода и кнопку отправки данных веб-формы на другую
    строку. Тем не менее поле ввода и кнопка не находятся рядом друг с другом.
    Пара стилей исправят это.
4. Добавьте следующие два правила в конце таблицы стилей файла custom.css:
    ```
    .signup input[type="email"] {
        border-radius: 4px 0 0 4px;
        flex: 1;
    }
    .signup input[type="submit"] {
        border-radius: 0 4px 4px 0;
        padding: 0 10px;
    }
    ```
Эти правила используют селекторы атрибутов, определяющие поле ввода адреса электронной почты и кнопку отправки данных веб-формы. Присвоение
свойству flex поля ввода значения 1 растягивает поле до заполнения всего доступного
пространства, не занятого кнопкой отправки данных (с надписью OK).
Кроме того, с помощью свойства border-radius — скругления левых углов поля
ввода и правых углов кнопки отправки данных — вы создали подобие виджета.
# Адаптация панели навигации под мобильные устройства
Благодаря гибкости flex-элементов созданный вами дизайн великолепно смотрится в браузерах с
различной шириной окна. Сохраните файл custom.css; откройте
страницу index.html и измените размер окна браузера. Вы увидите, что дизайн сжимается до 
размеров окна браузера: три колонки в центре страницы преобразуются
в две, а после и вовсе в одну колонку.
Последнее, что следует добавить, — простой медиазапрос, который будет преобразовывать 
кнопки панели навигации, расположенные рядом друг с другом, в колонку при малых размерах экрана.
1. В нижней части файла custom.css добавьте медиазапрос:
    ```
    @media (max-width: 500px) {
    }
    ```
    Он вступает в силу, если ширина окна браузера (или разрешение по горизонтали на экране устройства) 
    не превышает 500 пикселов. Другими словами, стили,
    размещенные в нем, будут применяться только к устройствам (и окнам браузеров), 
    экранное разрешение по горизонтали которых — менее 501 пиксела.
    Мы добавим стиль внутри медиазапроса, позволяющий изменить отображение
    flex-элементов (кнопок навигации) внутри панели навигации.

2. Добавьте следующий стиль в медиазапрос (добавленный код выделен полужирным
шрифтом):
    ```
    @media (max-width: 500px) {
    .nav {
        flex-flow: column;
    }
    }
    ```
    Этот код изменит направление потока flex-элементов. Вместо того чтобы располагаться
    рядом друг с другом в строку, кнопки навигации разместятся друг
    под другом в виде колонки.
    В завершение вы измените ширину кнопок, чтобы они заполняли контейнер.
3. Добавьте еще один стиль в медиазапрос (добавленный код выделен полужирным шрифтом):
    ```
    @media (max-width: 500px) {
    .nav {
        flex-flow: column;
    }
    .nav a {
        width: 100%;
        margin-bottom: 2px;
    }
    }
    ```
    Последний добавленный стиль позволяет каждой кнопке-ссылке заполнить
    flex-контейнер по ширине. Он также добавляет немного пространства ниже
    каждой ссылки, чтобы реализовать визуальное разделение.
4. Сохраните файл custom.css. Откройте страницу index.html в браузере и постепенно уменьшайте размер 
окна по горизонтали.
Во-первых, при полной ширине область основного контента содержит три
колонки, а нижний колонтитул — две. Затем, когда окно браузера станет немного уже, 
три колонки превращаются в две, а элементы нижнего колонтитула перетекают и 
располагаются друг под другом. Наконец, при ширине окна браузера менее 500 
пикселов все содержимое страницы отображается в одной
колонке, в том числе и панель навигации.
Способ flexbox-верстки — это веселое и интересное дополнение к каскадным
таблицам стилей. С его помощью многие ранее трудные (или почти невозможные)
задачи, связанные с версткой макета страницы, выполняются очень легко. Он упрощает
работу по созданию адаптивного дизайна и уменьшает количество математических расчетов, 
которые необходимо выполнить, при проектировании колонок
пропорциональных размеров. Его небольшой недостаток заключается в том, что
старые версии браузеров поддерживают синтаксис flexbox-кода и попросту игнорируют 
flex-свойства. Тем не менее поддержка реализована во всех современных
браузерах, включая Internet Explorer и Edge, поэтому нет никаких причин, чтобы
не начать экспериментировать с приемами flexbox-верстки в своих проектах.