#  Практикум: адаптивный веб-дизайн
В этом практикуме мы возьмем дизайн, созданный ранее (с добавлением нескольких изображений), 
и наделим его адаптивными свойствами. Будет продемонстрирован подход,
при котором предпочтение отдано дизайну для компьютеров, то есть
исходные стили лучше всего будут работать в браузерах компьютеров, а затем к ним
будут добавлены медиазапросы, адаптирующие внешний вид под экраны среднего
размера (экраны планшетов) и под небольшие экраны (экраны смартфонов).
Чтобы начать обучение, вы должны иметь в распоряжении файлы с учебным
материалом. Файлы текущего практикума находятся в папке 15.
# Изменение HTML-кода
При адаптации макета под небольшой экран вы превращаете свой трехколоночный
дизайн в одноколоночный, где все блоки с контентом следуют друг за другом. 
Проблема HTML-кода страницы, которая была создана ранее в этой книге, заключается 
в том, что сначала в нем следует левая боковая панель, поэтому при преобразовании 
дизайна в одноколоночный эта боковая панель появится ранее основного
контента.
Будет лучше, если посетители сайта сначала увидят основной контент, а затем,
прокручивая страницу, — дополнительную информацию, находящуюся на бывших
боковых панелях. Чтобы получить такой результат, нужно добавить некоторый
HTML-код и переместить часть уже существующего кода. Для этого будет использоваться установка
контейнера с основным контентом ранее первой
боковой панели с последующей оберткой основного контента и боковой панели
в новый div-контейнер. Этот новый div-контейнер нужно выровнять по левому
краю, основной контент внутри него — по правому краю контейнера, а боковую
панель — по левому. Такое выравнивание позволит поддерживать единую визуальную компоновку в стиле
компьютерных мониторов (слева боковая панель, в центре
основной контент, а справа — вторая боковая панель), а для дизайна под смартфоны
основной контент будет следовать ранее двух бывших боковых панелей.
1. Откройте файл index.html, который находится в папке 15.
Сначала нужно переместить основной контент вверх.
2. Найдите в HTML-коде комментарий `<!-- основной контент -->` и выделите его
и весь HTML-код ниже, включая закрывающий тег `</article>`.
То есть выделите этот комментарий и весь код ниже до комментария `<!-- вторая
боковая панель -->`.
3. Вырежьте текст и поместите его в буфер обмена с помощью команды меню 
Редактировать->Вырезать (Edit->Cut) (или воспользуйтесь аналогичным способом, предоставляемым вашим редактором HTML-кода).
Далее этот код будет вставлен перед кодом первой боковой панели.
4. Найдите ближе к началу файла элемент `<div class="contentWrapper">`. Добавьте
под ним перед комментарием `<!-- первая боковая панель -->` пустую строку
и воспользуйтесь командой меню Редактировать->Вставить (Edit->Paste), чтобы
вставить основной контент ранее кода боковой панели.
Теперь нужно будет добавить div-контейнер, чтобы обернуть им основной контент и первую боковую панель.
5. После элемента `<div class="contentWrapper">` добавьте элемент `<div class="columnWrapper">`.
HTML-код должен приобрести следующий вид:
    ```
    <div class="contentWrapper">
    <div class="columnWrapper">
    <!-- основной контент -->
    ```
    Затем нужно закрыть этот div-контейнер.
6. Найдите закрывающий тег `</aside>`, принадлежащий коду первой боковой панели. 
    Он находится непосредственно перед комментарием `<!-- вторая боковая
    панель -->`. Добавьте тег `</div>` после тега `</aside>`, чтобы данный фрагмент
    HTML-кода приобрел следующий вид:
    ```
    </aside>
    </div>
    <!-- вторая боковая панель -->
    ```
    Пока это будут все изменения, вносимые в HTML-код. Если вы запутались или
    хотите проверить свою работу, файл с именем new-source-order.html, содержащий все эти изменения HTML-кода, можно найти в папке 15.
    Если просмотреть эту страницу в браузере, можно увидеть трехколоночный дизайн, 
    но с основным контентом слева и первой боковой панелью в центре.
    Это проблему можно решить с помощью дополнительного CSS-кода.
7. Откройте файл styles.css, который находится в папке 15.
Сначала нужно добавить новый стиль для контейнера колонок и выровнять его по левому краю, чтобы он располагался рядом с правой
боковой панелью.
8. Добавьте ближе к концу файла перед стилем .sidebar1 следующий код:
    ```
    .columnWrapper {
        float: left;
        width: 80%;
    }
    ```
    Значение свойства width здесь формируется из ширины левой боковой панели
    (20 %) и основной колонки (60 %). На самом деле здесь создается двухколоночный дизайн: первую колонку представляет ранее созданный элемент div, а вто-
    рую — правая боковая панель. Контейнер основного контента и левая боковая
    панель, по сути, являются двумя колонками внутри div-контейнера, в которую
    заключена эта колонка, то есть вложенными колонками.
    Далее нужно будет настроить обтекаемые элементы и изменить ширину основного контента и первой боковой панели.
9. Измените значение свойства width в стиле .sidebar на 25%. Код стиля должен
приобрести такой вид:
    ```
    .sidebar1 {
        float: left;
        width: 25%;
        padding: 0 20px 0 10px;
    }
    ```
    Изначально эта боковая панель занимала 20 % всей ширины страницы, но теперь, когда она находится внутри div-контейнера, оборачивающего колонки,
    нужно подогнать ширину колонок боковой панели и основного контента, чтобы
    они умещались в 80 % от ширины страницы, выделенных контейнеру колонок.
    То есть указанное процентное отношение относится не ко всей странице, а к контейнеру колонок, который занимает только 80 % ширины страницы.
    Чтобы вычислить новое процентное отношение, нужно взять предыдущее значение — 20 %, разделить его на ширину контейнера — 80 %, а затем умножить
    результат на 100. Результат деления 20 на 80 равен 0,25. Умножение этого результата на 100 позволяет получить значение 25 %. Та же технология должна
    быть применена и к изменению ширины основного контента.

10. Найдите стиль .main и присвойте свойству float значение right, а свойству
width — значение 75%, придав стилю следующий вид:
    ```
    .main {
        float: right;
        width: 75%;
        padding: 0 20px;
        border-left: dashed 1px rgb(153,153,153);
        border-right: dashed 1px rgb(153,153,153);
    }
    ```
    Теперь элемент выровнен по правому краю, поэтому он появляется справа от
    первой боковой панели, в результате чего основной контент снова помещается
    в центр. Ширина вычисляется путем деления старого значения ширины элемента на 
    значение ширины его контейнера: 60 / 80 = 0,75, или 75 %.
    >ПРИМЕЧАНИЕ
    Дизайн страницы в этом примере не станет шире 1200 пикселов благодаря свойству max-width, 
    которому присвоено значение 1200px в групповом селекторе nav ul, header h1, footer p, .contentWrapper.
    Если нужно, чтобы страница заполняла окно браузера независимо от его ширины, удалите объявление max-width: 1200px; из этого группового селектора.
# Адаптивные изображения
Вы успешно справились с созданием резинового макета. Если теперь просмотреть
страницу и изменить размеры окна, можно увидеть, что по мере уменьшения размера окна браузера колонки становятся меньше. 
К сожалению, некоторые изображения шире колонок и выпадают за их пределы. Как уже ранее упоминалось, составной частью адаптивного веб-дизайна является еще и придание изображениям
возможности адаптации к изменениям ширины окна браузера. Для реализации такой возможности нужно немного дополнить CSS-код и убрать часть HTML-кода.
1. Перейдите к файлу styles.css в редакторе HTML-кода. В нижней части таблицы стилей добавьте стиль для элемента img:
    ```
    img {
        max-width: 100%;
    }
    ```
    Этот стиль ограничивает максимальную ширину изображения 100 % от ширины контейнера. Следовательно, для колонки, имеющей на экране ширину
    200 пикселов, изображение будет шириной 200 пикселов. Если посетитель
    изменит размеры окна браузера и колонки станут меньше, то изображение
    также уменьшится, чтобы поместиться в колонке.
    Но все это будет функционировать при условии удаления свойств изображения
    width и height из HTML-кода.
2. Удалите для каждого из четырех элементов img, имеющихся в файле index.html,
атрибуты height и width.
У нас имеются четыре изображения — clouds.jpg, jellyfishy.jpg, gator.jpg
и mule.jpg. Удалите из соответствующих элементов img атрибуты width и height.
Например, код:
`<img src="imgs/clouds.jpg" alt="Облака" width="678" height="452">`
должен принять вид:
`<img src="imgs/clouds.jpg" alt="Облака">`
Если сохранить CSS- и HTML-файлы и просмотреть страницу в браузере, можно будет увидеть, что по мере того, как окно браузера уменьшается, изображения
меняют свой размер. Но два изображения в основной колонке все же слишком
большие. Использование объявления max-width: 100%; для элемента img приводит к созданию гибких изображений, но во многих случаях вам не нужно, чтобы
изображения становились такими же по ширине, как и сама колонка. В случае
с двумя изображениями в основной колонке они будут в целом лучше 
смотреться, если займут только половину размера основной колонки. Этого можно 
добиться путем применения к этим элементам определенных классов и добавления стилей.
3. Добавьте в конце файла styles.css следующие стили:
    ```
    img.half {
        max-width: 50%;
    }
    img.left {
        float: left;
        margin: 0 10px 10px 0;
    }
    img.right {
        float: right;
        margin: 0 0 10px 10px;
    }
    ```
    Первый стиль присваивает свойству max-width значение 50%, что соответствует
    половине ширины колонки. Другие два стиля выравнивают элемент изображения по левому или правому краю колонки, позволяя тексту обтекать изображе-
    ния, и создают небольшие поля. Чтобы воспользоваться этими стилями, к элементам изображений нужно добавить имена классов.
4. Найдите в файле index.html элемент img изображения clouds.jpg — `<img src="imgs/clouds.jpg" alt="Облака">`
 — и добавьте код class="half right", чтобы получился
следующий код:
`<img src="imgs/clouds.jpg" alt="Облака" class="half right">`
Добавление к элементу более одного класса — довольно устоявшаяся и полезная
практика. Таким образом можно объединять простые модульные стили для
создания более сложных конструкций дизайна. В данном случае класс half изменяет размер изображения, а класс right выравнивает его по правому краю.
Простым изменением значения right на left можно выровнять изображение по
левому краю колонки, сохраняя ограничение размера, заданное в стиле half.
5. Добавьте в элемент изображения jellyfish.jpg атрибут class="half left", придав
HTML-коду следующий вид:
`<img src="imgs/jellyfish.jpg" alt="Медуза" class="half left">`
По желанию можно создать дополнительные стили для других размеров и даже
указать размеры в пикселах, позволяя нужным изображениям изменять размеры
до их полной ширины, но не более.

# Добавление стилей для планшетов
На данный момент дизайн страницы не меняется на всех устройствах просмотра:
компьютерных мониторах, планшетах и смартфонах. Это резиновый дизайн, который меняет размер контента, чтобы уместить его в окне браузера. Но в определенный
момент боковые панели становятся настолько узкими, что текст на них уже не прочитать. Первый добавляемый вами медиазапрос будет
нацелен на устройства с экранами, разрешение по горизонтали которых находится в диапазоне 480–768 пикселов с перемещением правой боковой панели в нижнюю часть страницы, превращая
трехколоночный дизайн в более удобочитаемый двухколоночный.
1. Откройте в редакторе HTML-кода файл styles.css. Перейдите в конец файла
и добавьте следующий код:
    ```
    @media (min-width: 481px) and (max-width:768px) {
    }
    ```
    Создание адаптивных изображений не составляет особого труда.
    Нужно лишь убрать из HTML-кода атрибуты высоты и ширины изображений
    и присвоить значение свойству max-width. Если к изображениям нужно применить
    другие размеры, создайте классы с требуемыми значениями свойства max-width
    и примените их к элементам img
    Это первый медиазапрос. Он предназначен для устройств с экранами, имеющими
    разрешение по горизонтали не менее 481 и не более 768 пикселов. В следующем
    упражнении этого практикума будет создан медиазапрос для устройств, экранное
    разрешение по горизонтали которых не превышает 480 пикселов. Поэтому данный 
    медиазапрос исключает такие устройства, как и устройства с экранным разрешением по горизонтали, превышающим 768 пикселов. Иными словами, любые
    стили, помещаемые в этом разделе таблицы, не будут применяться к браузерам
    компьютеров (пока вы не уменьшите их окно до слишком узкого) и большинства
    смартфонов.
    Первое, что нужно сделать, — это удалить свойство float из стиля правой боковой панели.
2. Внутри медиазапроса, добавленного при выполнении предыдущего шага, создайте следующий стиль:
    ```
    @media (min-width: 481px) and (max-width:768px) {
    .sidebar2 {
        float: none;
        width: auto;
        }
    }
    ```
    Этот код отменяет выравнивание боковой панели и присваивает свойству width
    значение auto (замещая значение 20% из стиля .sidebar2, ранее определенного
    в данной таблице). Но этот стиль не заставит боковую панель опуститься ниже
    двух других колонок. Поскольку div-контейнер колонок выровнен по левому
    краю, вторая боковая панель будет обтекать его. Вам нужно с помощью свойства
    clear освободить боковую панель от обтекания.
3. Отредактируйте стиль, созданный на предыдущем шаге, добавив в него код,
выделенный полужирным шрифтом:
    ```
    .sidebar2 {
        float: none;
        width: auto;
        clear: both;
        border-top: 2px solid black;
        padding-top: 10px;
    }
    ```
    Свойство clear опускает эту боковую панель ниже двух
    других колонок. Кроме этого, здесь добавляется характерная верхняя граница для
    еще большего визуального отделения этого контейнера от верхних колонок.
    Теперь, если просмотреть страницу и уменьшить ширину окна браузера до
    768 пикселов, вы увидите, что две колонки не распространяются на всю ширину страницы. Причина в том, что ранее на шаге 8 предыдущей последовательности действий для контейнера этих колонок было установлено зна-
    чение ширины, равное 80 % ширины страницы. Вам нужно сбросить этот стиль
    в медиазапросе для планшетных устройств.
4. Добавьте после стиля .sidebar2 следующий код:
    ```
    .columnWrapper {
        width: auto;
    }
    ```
    Убедитесь в том, что этот стиль находится внутри медиазапроса. Он сбрасывает ширину контейнера колонок, присваивая свойству width значение auto (то же
    самое, что и 100 %), поэтому распространяется на всю ширину страницы. Поскольку теперь у нас только две колонки, правую границу, применявшуюся
    к колонке основного контента, можно удалить.
5. Добавьте еще один стиль после класса .columnWrapper. Весь медиазапрос должен
приобрести следующий вид (изменения выделены полужирным шрифтом):
    ```
    @media (min-width: 481px) and (max-width:768px) {
    .sidebar2 {
        float: none;
        width: auto;
        clear: both;
        border-top: 2px solid black;
        padding-top: 10px;
    }
    .columnWrapper {
        width: auto;
    }
    .main {
        border-right: none;
    }
    }
    ```
6. Сохраните файл styles.css и просмотрите файл index.html в браузере. 
Уменьшайте ширину окна браузера до появления только двух колонок.

# Добавление стилей для смартфонов
И наконец, настал черед добавить стили для устройств, разрешение экрана которых
по горизонтали составляет менее 480 пикселов.
1. Откройте в редакторе HTML-кода файл styles.css. Перейдите в конец файла
и добавьте еще один медиазапрос:
    ```
    @media (max-width:480px) {
    }
    ```
2. Внутри этого медиазапроса добавьте следующий стиль:
    ```
    .columnWrapper, .main, .sidebar1, .sidebar2 {
        float: none;
        width: auto;
    }
    ```
    Он удалит обтекаемые (то есть выровненные) элементы из контейнера, обертывающего колонки, и из всех колонок. Присвоение свойству width значения
    auto позволяет элементам заполнять свои контейнеры полностью. Таким образом, 
    теперь три колонки становятся простыми блочными элементами, располагаемыми друг за другом, с основным контентом в начале и двумя боковыми
    панелями следом.
    Область основного контента все еще имеет границы, создаваемые стилями,
    ранее добавленными в CSS-файл. В трехколоночном дизайне эти левые и правые 
    границы служили визуальными разделителями колонки основного контента и левой/правой боковых панелей. В этом последовательном дизайне они
    не нужны, поэтому их можно удалить. С другой стороны, желательно добавить
    визуальное разделение между блоками контента, которые теперь следуют друг
    за другом.
3. После только что добавленного стиля (внутри медиазапроса @media (maxwidth:
480px) {) введите следующий код:
    ```
    .main {
        border: none;
    }
    .sidebar1, .sidebar2 {
        border-top: 2px solid black;
        margin-top: 25px;
        padding-top: 10px;
    }
    ```
    Представленный здесь групповой селектор добавляет границу над каждой боковой панели, 
    а также верхние поле и отступ для четкого разделения различных
    областей контента страницы.
    Сохраните CSS-файл и просмотрите в браузере файл index.html. Нажав и удерживая 
    кнопку мыши на краю окна браузера, перетащите мышь так, чтобы уменьшить ширину 
    окна до 480 пикселов. Теперь вы увидите дизайн, состоящий из
    одной колонки. Если просмотреть страницу на смартфоне, можно заметить,
    что заголовок выглядит слишком крупным. Кроме того, элементы
    навигации смотрятся не очень хорошо. Далее мы займемся устранением этих
    проблем.
4. Добавьте внутри медиазапроса @media (max-width:480px) { стиль для элемента h1:
    ```
    header h1 {
        font-size: 1.5em;
    }
    ```
    Этот стиль уменьшает размер шрифта текста в элементах h1, чтобы он поместился
    на одной строке. Уменьшение размера заголовков при преобразовании
    дизайна для просмотра на небольших экранах смартфонов зачастую отнюдь не
    лишено смысла. Можно также прийти к выводу, что для повышения читабельности
     следует увеличить размер шрифта основного текста. Для настройки дизайна 
    страницы для смартфонов существует множество способов, а каким должен 
    быть наилучший внешний вид — решать вам.
    Теперь займитесь панелью навигации. Пунктирные границы, разделяющие
    кнопки, смотрятся плохо и сбивают с толку. Кроме того, кнопки выровнены по
    левому краю, создавая при этом несбалансированную асимметрию. Они будут
    лучше смотреться по центру и без границ.
5. После стиля header h1, созданного на предыдущем шаге, добавьте следующий
код:
    ```
    nav {
        text-align: center;
    }
    ```
    Элементы навигации содержатся внутри HTML5-элемента nav. Присвоение
    свойству text-align значения center позволяет центрировать весь текст, находящийся 
    внутри элемента nav. Но элементы навигации в данный момент выровнены по левому краю, поэтому это только первый шаг.
6. Добавьте после стиля nav еще два стиля:
    ```
    nav li {
        float: none;
        display: inline-block;
    }
    nav a {
        float: none;
        display: inline-block;
        border: none;
    }
    ```
    Вы отменяете выравниваете как элементов списка, так и самих ссылок. Кроме
    того, вы превращаете эти элементы в строчные блоки. Как уже упоминалось,
    использование строчных блоков в элементах навигации позволяет размещать
    ссылки рядом друг с другом, сохраняя при этом отступы и поля. Кроме того,
    применение строчных блоков — единственный способ центрирования этих
    кнопок.
7. В окончательном варианте код медиазапроса @media (max-width:480px) { должен
иметь следующий вид:
    ```
    @media (max-width:480px) {
    .columnWrapper, .main, .sidebar1, .sidebar2 {
        float: none;
        width: auto;
    }
    .main {
        border: none;
    }
    .sidebar1, .sidebar2 {
        border-top: 2px solid black;
        margin-top: 25px;
        padding-top: 10px;
    }
    header h1 {
        font-size: 1.5em;
    }
    nav {
        text-align: center;
    }
    nav li {
        float: none;
        display: inline-block;
    }
    nav a {
        float: none;
        display: inline-block;
        border: none;
    }
    }
    ```
    Сохраните все ваши файлы и просмотрите файл index.html в браузере. Измените 
    размер окна браузера, чтобы его ширина стала меньше 480 пикселов, и изучите
    дизайн, предназначенный для смартфонов. Увеличивайте размер окна, пока в поле
    зрения не появится дизайн, состоящий из двух колонок, а затем продолжайте изменение, 
    пока не увидите версию для компьютеров, имеющую три колонки.